<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Libberfy Mad Lib API Demo</title>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Vast+Shadow' rel='stylesheet' type='text/css'>
    <style>
      .container {
        margin: 0 auto;
        min-width: 660px;
        width: 660px;
        text-align: center;
      }
      h1 {
        text-align: center;
        font-family: 'Vast Shadow', cursive;
      }
      h1 a, a:hover {
        text-decoration: none;
        color: black;
      }
      textarea.form-control {
        height: 200px;
      }
      input[type=submit] {
        margin-top: 20px;
        float: right;
      }
      #madlib-form-container {
        line-height: 30px;
        text-align: left;
      }
      #madlib-form-container input[type=text] {
        height: 25px;
        line-height: 25px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1><a href='/'>Libberfy Mad Lib API Demo</a></h1>
      <form id='original-text' role='form'>
        <textarea class='form-control'></textarea>
        <input type='submit' class='btn btn-primary'>
      </form>
      <div id="madlib-form-container"></div>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>
      $('#original-text').submit( function(e) {
        e.preventDefault();
        $originalText = $(this);
        $originalText.hide();
        url = "http://libberfy.herokuapp.com?html_form=1&q=" + $originalText.find('textarea').val()
        $.getJSON(url, function( response ) {
          $madlibFormContainer = $('#madlib-form-container');
          $madlibFormContainer.append(response.madlib);
          $madlibFormContainer.find('input[type=submit]').addClass('btn btn-primary');
        })
      })
    </script>
  </body>
</html>